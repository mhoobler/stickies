!function(){const e=document.getElementById("color-select"),t=document.getElementById("color-options"),n=document.getElementById("sticky-container"),o=document.getElementById("trash"),s=document.getElementById("trash-path");document.getElementById("hidden"),document.body.removeChild;function*d(){let e=0;for(;;)yield e++}var r=d();document.getElementById("reset").addEventListener("click",(()=>{const e=[...document.querySelectorAll(".sticky")];for(let t of e)t.style.zIndex=0;r=d()}));const l={selectedColor:()=>e.getAttribute("data-color"),showingOptions:()=>!t.classList.contains("hidden"),zIndex:()=>r.next().value,getOffset:e=>{var{top:t,left:n}=e.style;return{top:t=parseInt(t.slice(0,-2)),left:n=parseInt(n.slice(0,-2))}},dragging:null},a=e=>{const{tag:t,classList:n,id:o,value:s,style:d,dataset:r}=e,l=document.createElement(t);if(l.classList=n,o&&(l.id=o),s&&l.setAttribute("value",s),d)for(let e of Object.keys(d))l.style[e]=d[e];if(r)for(let e of Object.keys(r))l.dataset[e]=r[e];return l};function c(e,t){const n=a({tag:"div",classList:"sticky",style:{top:e+"px",left:t+"px",zIndex:l.zIndex()},dataset:{color:l.selectedColor()}}),o=a({tag:"div"}),s=a({tag:"textarea"});return n.appendChild(o),n.appendChild(s),n.draggable,n.addEventListener("touchmove",m),n.addEventListener("mousedown",i),n}function i(e){if(e.currentTarget.style.zIndex=l.zIndex(),"TEXTAREA"!==e.target.tagName){const n=e.currentTarget;l.dragging=n;const{top:o,left:s}=l.getOffset(n),d=s-e.pageX,r=o-e.pageY;function t(e){n.style.top=r+e.pageY+"px",n.style.left=d+e.pageX+"px"}document.addEventListener("mousemove",t),document.addEventListener("mouseup",(function e(n){l.dragging=null,document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e)}))}}var u,g;function m(e){l.dragged=e.currentTarget,e.currentTarget.style.top=e.targetTouches[0].pageY+"px",e.currentTarget.style.left=e.targetTouches[0].pageX+"px",touchTarget=e}function p(e){s.style.fill=""}e.addEventListener("mouseup",(function(e){console.log("c"),u&&clearTimeout(u);const n=e.target.dataset.color;e.currentTarget.setAttribute("data-color",n),t.classList.toggle("hidden")})),e.addEventListener("mousedown",(function(e){u=setTimeout((()=>{const t=c(e.pageY,e.pageX);function o(e){t.style.top=e.pageY+"px",t.style.left=e.pageX+"px"}n.appendChild(t),l.dragging=t,document.addEventListener("mousemove",o),document.addEventListener("mouseup",(function e(t){l.dragging=null,document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e)}))}),200)})),e.addEventListener("touchstart",(function(t){const o=c(0,0);console.log(o),g=e=>function(e,t){t.style.top=e.targetTouches[0].pageY+"px",t.style.left=e.targetTouches[0].pageX+"px"}(e,o),e.addEventListener("touchmove",g),n.appendChild(o)})),e.addEventListener("touchend",(function(t){console.log(t),e.removeEventListener("touchmove",g)})),o.addEventListener("mouseenter",(function(e){l.dragging&&(s.style.fill="#F33")})),o.addEventListener("mouseleave",p),o.addEventListener("mouseup",(function(e){if(l.dragging){let e=window.confirm("Are you sure you want to delete this?");console.log(e),e&&(console.log(l.dragging),l.dragging.remove(),l.dragging=null,s.style.fill="")}})),o.addEventListener("touchstart",(e=>{s.style.fill="#F33"})),o.addEventListener("touchend",(e=>{s.style.fill=""}));document.querySelector("body")}();
//# sourceMappingURL=index.762c05bb.js.map
